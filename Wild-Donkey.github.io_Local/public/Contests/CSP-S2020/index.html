<!DOCTYPE HTML>
<html>

<head>
	<link rel="bookmark"  type="image/x-icon"  href="/img/logo_miccall.png"/>
	<link rel="shortcut icon" href="/img/logo_miccall.png">
	
			    <title>
    Wild_Donkey
    </title>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
    <link rel="stylesheet" href="/css/mic_main.css" />
    <link rel="stylesheet" href="/css/dropdownMenu.css" />
    <meta name="keywords" content="Wild_Donkey" />
    
    	<script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
	 
    <noscript>
        <link rel="stylesheet" href="/css/noscript.css" />
    </noscript>
    <style type="text/css">
        body:before {
          content: ' ';
          position: fixed;
          top: 0;
          background: url('/img/bg.jpg') center 0 no-repeat;
          right: 0;
          bottom: 0;
          left: 0;
          background-size: cover; 
        }
    </style>

			    
  
    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({
        tex2jax: {
          inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
          processEscapes: true,
          skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
        }
      });
    </script>

    <script type="text/x-mathjax-config">
      MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax(), i;
        for (i=0; i < all.length; i += 1) {
          all[i].SourceElement().parentNode.className += ' has-jax';
        }
      });
    </script>
    <script async type="text/javascript" src="//cdn.bootcss.com/mathjax/2.7.1/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
  


    <script src="/js/jquery.min.js"></script>
    <script src="/js/jquery.scrollex.min.js"></script>
    <script src="/js/jquery.scrolly.min.js"></script>
    <script src="/js/skel.min.js"></script>
    <script src="/js/util.js"></script>
    <script src="/js/main.js"></script>
	
<!-- hexo injector head_end start -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css">

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/hexo-math@4.0.0/dist/style.css">
<!-- hexo injector head_end end --><meta name="generator" content="Hexo 6.2.0"></head>
    
		<!-- Layouts -->



              <!--  代码渲染  -->
              <link rel="stylesheet" href="/css/prism_coy.css" />
              <link rel="stylesheet" href="/css/typo.css" />
              <!-- 文章页 -->

              <body class>
                <!-- Wrapper 外包 s-->
                <div id="wrapper" class="fade-in">
                  <!-- Intro 头部显示 s -->
                  <!-- Intro 头部显示 e -->
                  <!-- Header 头部logo start -->
                  <header id="header">
    <a href="/" class="logo">Think Different</a>
</header>
                    <!-- Nav 导航条 start -->
                    <nav id="nav" class="special" >
            <ul class="menu links" >
			<!-- Homepage  主页  --> 
			<li >
	            <a href="/" rel="nofollow">Home</a>
	        </li>
			<!-- categories_name  分类   --> 
	        
	        <li class="active">
	            <a href="#s1">Categories</a>
	                    <ul class="submenu">
	                        <li>
	                        <a class="category-link" href="/categories/Contests/">Contests</a></li><li><a class="category-link" href="/categories/Engineering/">Engineering</a></li><li><a class="category-link" href="/categories/Essays/">Essays</a></li><li><a class="category-link" href="/categories/Mathematics/">Mathematics</a></li><li><a class="category-link" href="/categories/Notes/">Notes</a>
	                    </ul>
	        </li>
	        
	        <!-- archives  归档   --> 
	        
	        <li class="active">
	            <a href="#s1">Archives</a>
	                    <ul class="submenu">
	                        <li>
	                        <a class="archive-link" href="/archives/2022/08/">August 2022</a></li><li><a class="archive-link" href="/archives/2022/07/">July 2022</a></li><li><a class="archive-link" href="/archives/2022/06/">June 2022</a></li><li><a class="archive-link" href="/archives/2022/05/">May 2022</a></li><li><a class="archive-link" href="/archives/2022/04/">April 2022</a></li><li><a class="archive-link" href="/archives/2022/03/">March 2022</a></li><li><a class="archive-link" href="/archives/2022/02/">February 2022</a></li><li><a class="archive-link" href="/archives/2022/01/">January 2022</a></li><li><a class="archive-link" href="/archives/2021/11/">November 2021</a></li><li><a class="archive-link" href="/archives/2021/10/">October 2021</a></li><li><a class="archive-link" href="/archives/2021/08/">August 2021</a></li><li><a class="archive-link" href="/archives/2020/11/">November 2020</a>
	                    </ul>
	        </li>
	        
	        
		        <!-- Pages 自定义   -->
		        
		        <li>
		            <a href="/about/" title="About">
		                About
		            </a>
		        </li>
		        
		        <li>
		            <a href="/group/" title="Friends">
		                Friends
		            </a>
		        </li>
		        
		        <li>
		            <a href="/gallery/" title="Gallery">
		                Gallery
		            </a>
		        </li>
		        
		        <li>
		            <a href="/tag/" title="Tags">
		                Tags
		            </a>
		        </li>
		        


            </ul>
            <!-- icons 图标   -->
			<ul class="icons">
                    
                    <li>
                        <a title="github" href="https://github.com/Wild-Donkey" target="_blank" rel="noopener">
                            <i class="icon fa fa-github"></i>
                        </a>
                    </li>
                    
			</ul>
</nav>

                      <div id="main">
                        <div class="post_page_title_img"
                          style="height: 25rem;background-image: url(https://s2.loli.net/2022/05/22/2ykC7E9o4WGnlcs.png);background-position: center; background-repeat:no-repeat; background-size:cover;-moz-background-size:cover;overflow:hidden;">
                          <a href="#" style="padding: 4rem 4rem 2rem 4rem ;">
                            <h2>
                              CSP-S 2020 考前总结
                            </h2>
                          </a>
                        </div>
                        <!-- Post -->
                        <div class="typo" style="padding: 3rem;">
                          <h1 id="csp-s-2020"><a class="markdownIt-Anchor" href="#csp-s-2020"></a> CSP-S 2020</h1>
<p><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>2020</mn></mrow><annotation encoding="application/x-tex">2020</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">2</span><span class="mord">0</span><span class="mord">2</span><span class="mord">0</span></span></span></span> 是我学习 OI 的第三年, <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>2018</mn><mo>−</mo><mn>2020</mn></mrow><annotation encoding="application/x-tex">2018-2020</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.72777em;vertical-align:-0.08333em;"></span><span class="mord">2</span><span class="mord">0</span><span class="mord">1</span><span class="mord">8</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">2</span><span class="mord">0</span><span class="mord">2</span><span class="mord">0</span></span></span></span>, 比赛从 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>N</mi><mi>O</mi><mi>I</mi><mi>p</mi><mn>2018</mn></mrow><annotation encoding="application/x-tex">NOIp 2018</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8777699999999999em;vertical-align:-0.19444em;"></span><span class="mord mathdefault" style="margin-right:0.10903em;">N</span><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mord mathdefault" style="margin-right:0.07847em;">I</span><span class="mord mathdefault">p</span><span class="mord">2</span><span class="mord">0</span><span class="mord">1</span><span class="mord">8</span></span></span></span> 到 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>C</mi><mi>S</mi><mi>P</mi><mn>2019</mn></mrow><annotation encoding="application/x-tex">CSP 2019</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.07153em;">C</span><span class="mord mathdefault" style="margin-right:0.05764em;">S</span><span class="mord mathdefault" style="margin-right:0.13889em;">P</span><span class="mord">2</span><span class="mord">0</span><span class="mord">1</span><span class="mord">9</span></span></span></span> 再到 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>C</mi><mi>S</mi><mi>P</mi><mn>2020</mn><mo>&amp;</mo><mi>N</mi><mi>O</mi><mi>I</mi><mi>p</mi><mn>2020</mn></mrow><annotation encoding="application/x-tex">CSP 2020 \And NOIp 2020</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.07153em;">C</span><span class="mord mathdefault" style="margin-right:0.05764em;">S</span><span class="mord mathdefault" style="margin-right:0.13889em;">P</span><span class="mord">2</span><span class="mord">0</span><span class="mord">2</span><span class="mord">0</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">&amp;</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.8777699999999999em;vertical-align:-0.19444em;"></span><span class="mord mathdefault" style="margin-right:0.10903em;">N</span><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mord mathdefault" style="margin-right:0.07847em;">I</span><span class="mord mathdefault">p</span><span class="mord">2</span><span class="mord">0</span><span class="mord">2</span><span class="mord">0</span></span></span></span></p>
<h2 id="i-dev-c"><a class="markdownIt-Anchor" href="#i-dev-c"></a> Ⅰ Dev-C++</h2>
<p>在 CSP 中, 提供的 IDE 环境为 Dev-C++, 每个 OIer 梦开始的地方, 但自从在 VSC 这条不归路上越走越远, 最初的 Dev 却变得陌生了.</p>
<p>由于平时主要用 VSC, 不常用 Dev-C++, 所以提前3天用 Dev-C++ 熟悉操作.</p>
<h3 id="1-exterior"><a class="markdownIt-Anchor" href="#1-exterior"></a> 1. Exterior</h3>
<p>由于 Dev-C++ 的外观实在有些不适应, 所以只能在考场现调, 提前自己配一个比较舒服的预设, 使用 Obsidian 配色, 当前行黑色高亮, 字体默认 Consolas, Windows7 还可能要配置 ClearType, 还有取消<code>使用Tab字符</code>选项, <code>Tab位置</code> 改为 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>2</mn></mrow><annotation encoding="application/x-tex">2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">2</span></span></span></span>, <code>Astyle</code> 中也把 <code>缩进风格</code> 改为 <code>Spaces</code>, <code>Tab宽度</code> 改为 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>2</mn></mrow><annotation encoding="application/x-tex">2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">2</span></span></span></span>.</p>
<h3 id="2-stack"><a class="markdownIt-Anchor" href="#2-stack"></a> 2. Stack</h3>
<p>为了测大样例, 需要将Windows系统的栈空间开至题目空间限制, 编译命令加入<code>-Wl,--stack=1024000000</code>表示将栈空间开至 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>1</mn><mi>G</mi><mi>B</mi></mrow><annotation encoding="application/x-tex">1GB</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord">1</span><span class="mord mathdefault">G</span><span class="mord mathdefault" style="margin-right:0.05017em;">B</span></span></span></span></p>
<h3 id="3-warning"><a class="markdownIt-Anchor" href="#3-warning"></a> 3. Warning</h3>
<p>对于能通过编译但可能不正确的地方, 肉眼不能及时发现, 可以打开更多编译警告, 在编译命令中加入<code>-Wall</code>, <code>-Wconversion</code>, <code>-Wextra</code>, 以开启更多警告</p>
<p>所以在编译选项中要打的所有命令为:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">-Wl,--stack=1024000000 -Wall -Wconversion -Wextra</span><br></pre></td></tr></table></figure>
<h3 id="4-debug"><a class="markdownIt-Anchor" href="#4-debug"></a> 4. Debug</h3>
<p>某些未配置好的 Dev-C++ 一调试就闪退, 对此, 在<code>编译器选项\代码生成/优化\连接器\产生调试信息</code>中将 <code>No</code> 改为 <code>Yes</code>.</p>
<h3 id="5-ctrl"><a class="markdownIt-Anchor" href="#5-ctrl"></a> 5. Ctrl</h3>
<p>由于 Dev-C++ 有一套不同于 VSC 的快捷键系统, 熟练后能大大提高做题效率.</p>
<p>可能用到的快捷键:</p>
<p><code>F5</code> <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo>⇒</mo></mrow><annotation encoding="application/x-tex">\Rightarrow</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.36687em;vertical-align:0em;"></span><span class="mrel">⇒</span></span></span></span> 调试</p>
<p><code>F9</code> <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo>⇒</mo></mrow><annotation encoding="application/x-tex">\Rightarrow</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.36687em;vertical-align:0em;"></span><span class="mrel">⇒</span></span></span></span> 编译</p>
<p><code>F10</code> <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo>⇒</mo></mrow><annotation encoding="application/x-tex">\Rightarrow</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.36687em;vertical-align:0em;"></span><span class="mrel">⇒</span></span></span></span> 运行</p>
<p><code>F11</code> <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo>⇒</mo></mrow><annotation encoding="application/x-tex">\Rightarrow</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.36687em;vertical-align:0em;"></span><span class="mrel">⇒</span></span></span></span> 编译运行</p>
<p><code>F12</code> <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo>⇒</mo></mrow><annotation encoding="application/x-tex">\Rightarrow</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.36687em;vertical-align:0em;"></span><span class="mrel">⇒</span></span></span></span> 全部编译</p>
<p>调试时 + <code>A</code> <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo>⇒</mo></mrow><annotation encoding="application/x-tex">\Rightarrow</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.36687em;vertical-align:0em;"></span><span class="mrel">⇒</span></span></span></span> 添加查看</p>
<p><code>Ctrl</code> + <code>Shift</code> + <code>A</code> <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo>⇒</mo></mrow><annotation encoding="application/x-tex">\Rightarrow</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.36687em;vertical-align:0em;"></span><span class="mrel">⇒</span></span></span></span> Astyle 格式化</p>
<p><code>Ctrl</code> + <code>/</code> + 选定 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo>⇒</mo></mrow><annotation encoding="application/x-tex">\Rightarrow</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.36687em;vertical-align:0em;"></span><span class="mrel">⇒</span></span></span></span> 多行注释</p>
<p><code>Ctrl</code> + <code>M</code> <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo>⇒</mo></mrow><annotation encoding="application/x-tex">\Rightarrow</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.36687em;vertical-align:0em;"></span><span class="mrel">⇒</span></span></span></span> 视图分栏</p>
<p><code>Ctrl</code> + <code>N</code> <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo>⇒</mo></mrow><annotation encoding="application/x-tex">\Rightarrow</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.36687em;vertical-align:0em;"></span><span class="mrel">⇒</span></span></span></span> 新建</p>
<p><code>Ctrl</code> + <code>S</code> <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo>⇒</mo></mrow><annotation encoding="application/x-tex">\Rightarrow</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.36687em;vertical-align:0em;"></span><span class="mrel">⇒</span></span></span></span> 保存</p>
<p><code>Ctrl</code> + <code>Shift</code> + <code>S</code> <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo>⇒</mo></mrow><annotation encoding="application/x-tex">\Rightarrow</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.36687em;vertical-align:0em;"></span><span class="mrel">⇒</span></span></span></span> 全部保存</p>
<h3 id="6-auto-save"><a class="markdownIt-Anchor" href="#6-auto-save"></a> 6. Auto Save</h3>
<p>记得存盘, 由于一个题可能在由暴力到正解的过程中经历几个版本的迭代, 当一个算法锅了, 要退回之前的算法就会增加很多工作量, 所以利用 DEV-C++ 自动保存功能, 每隔 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>5</mn><mi>m</mi><mi>i</mi><mi>n</mi></mrow><annotation encoding="application/x-tex">5min</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.65952em;vertical-align:0em;"></span><span class="mord">5</span><span class="mord mathdefault">m</span><span class="mord mathdefault">i</span><span class="mord mathdefault">n</span></span></span></span> 保存一份副本(附加格式化时间戳), 这样就能随时查看历史版本.</p>
<h3 id="7-others"><a class="markdownIt-Anchor" href="#7-others"></a> 7. Others</h3>
<ol>
<li>结构体/类中的元素自动补全出了问题, 重写变量名就能解决.</li>
<li><code>Program received signal SIGSEGV</code>这是调试时 Dev-C++ 报 RE 的弹窗, 这时就要看看哪个数组或指针越界了.</li>
<li><code>[Error] ld returned 1 exit status</code> 大部分情况是程序没关, 但是第二种情况比较恶心, 是某些编译器玄学原因(应该时因为我本地有<s>一万</s>多个编译器, 考场上只有 Dev, 应该不会出这个问题), 关了重开就好了, 或者是随便改改代码就好了.<strong>注意<code>main()</code>不要打成<code>mian()</code></strong></li>
</ol>
<h2 id="ii-试机"><a class="markdownIt-Anchor" href="#ii-试机"></a> Ⅱ 试机</h2>
<p>这次的试机在正式考试之前, 所以打的代码可以用到考试中, 那么在考试开始前打出一些可能用得到的代码就成了明智之举.</p>
<p>一共有 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>20</mn><mo>−</mo><mn>30</mn><mi>m</mi><mi>i</mi><mi>n</mi></mrow><annotation encoding="application/x-tex">20 - 30 min</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.72777em;vertical-align:-0.08333em;"></span><span class="mord">2</span><span class="mord">0</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.65952em;vertical-align:0em;"></span><span class="mord">3</span><span class="mord">0</span><span class="mord mathdefault">m</span><span class="mord mathdefault">i</span><span class="mord mathdefault">n</span></span></span></span>, 这个时间长度还是十分可观的, 要提前写的代码一定是最有可能有用的优先.</p>
<h3 id="1-头文件"><a class="markdownIt-Anchor" href="#1-头文件"></a> 1. 头文件</h3>
<p>在 CSP 中, 头文件打的越多越好 (卡评测机的非法头文件除外), 所以要提前全头文件哪怕只是写 IO 优化.</p>
<p>另外, <code>&lt;ctime&gt;</code>库中和时间有关的函数都会影响后期申诉, 所以不在要提交的答案代码中写</p>
<p>可能用到的头文件</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cmath&gt;</span> </span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cstdlib&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;vector&gt;</span></span></span><br></pre></td></tr></table></figure>
<h3 id="2-io-优化"><a class="markdownIt-Anchor" href="#2-io-优化"></a> 2. IO 优化</h3>
<h4 id="1-快读"><a class="markdownIt-Anchor" href="#1-快读"></a> ① 快读</h4>
<p>快读基本上用到的概率为 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>100</mn><mi mathvariant="normal">%</mi></mrow><annotation encoding="application/x-tex">100\%</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.80556em;vertical-align:-0.05556em;"></span><span class="mord">1</span><span class="mord">0</span><span class="mord">0</span><span class="mord">%</span></span></span></span>, 所以在这段时间是一开始就要打的.</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">inline</span> <span class="type">int</span> <span class="title">RD</span><span class="params">()</span> </span>&#123;</span><br><span class="line">	<span class="function"><span class="type">int</span> <span class="title">Itmp</span><span class="params">(<span class="number">0</span>)</span>, <span class="title">Isig</span><span class="params">(<span class="number">1</span>)</span></span>;</span><br><span class="line">	<span class="function"><span class="type">char</span> <span class="title">Ichr</span><span class="params">(getchar())</span></span>;</span><br><span class="line">	<span class="keyword">while</span> ((Ichr != <span class="string">&#x27;-&#x27;</span>) &amp;&amp; ((Ichr &gt; <span class="string">&#x27;9&#x27;</span>) || (Ichr &lt; <span class="string">&#x27;0&#x27;</span>))) &#123;</span><br><span class="line">		Ichr = <span class="built_in">getchar</span>();</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">if</span> (Ichr == <span class="string">&#x27;-&#x27;</span>) &#123;</span><br><span class="line">		Isig = <span class="number">-1</span>;</span><br><span class="line">		Ichr = <span class="built_in">getchar</span>();</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">while</span> ((Ichr &gt;= <span class="string">&#x27;0&#x27;</span>) &amp;&amp; (Ichr &lt;= <span class="string">&#x27;9&#x27;</span>)) &#123;</span><br><span class="line">		Itmp = Itmp * <span class="number">10</span> + Ichr - <span class="string">&#x27;0&#x27;</span>;</span><br><span class="line">		Ichr = <span class="built_in">getchar</span>();</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> Itmp * Isig;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="2-快写"><a class="markdownIt-Anchor" href="#2-快写"></a> ② 快写</h4>
<p>但是由于输出优化常数较读入优化大, 所以和 <code>printf()</code> 相比优势不大, 又存在一些问题 (如: 不能输出大部分末位 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo>≥</mo><mn>4</mn></mrow><annotation encoding="application/x-tex">\geq 4</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7719400000000001em;vertical-align:-0.13597em;"></span><span class="mrel">≥</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">4</span></span></span></span> 的 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>10</mn></mrow><annotation encoding="application/x-tex">10</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span><span class="mord">0</span></span></span></span> 位数, 不能输出某些末位 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo>≥</mo><mn>2</mn></mrow><annotation encoding="application/x-tex">\geq 2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7719400000000001em;vertical-align:-0.13597em;"></span><span class="mrel">≥</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">2</span></span></span></span> 的 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>20</mn></mrow><annotation encoding="application/x-tex">20</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">2</span><span class="mord">0</span></span></span></span> 位数, 也就是说不能将在当前数据类型范围内的数全部正确输出).</p>
<p>我虽然也试着写了一个, 但是对拍出了刚刚提到的问题. 又有风险, 又不能提升很多效率, 又浪费时间, 所以不决定提前写快写</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">inline</span> <span class="type">void</span> <span class="title">PR</span><span class="params">(<span class="type">long</span> <span class="type">long</span> Prtmp, <span class="type">bool</span> SoE)</span> </span>&#123;</span><br><span class="line">	<span class="function"><span class="type">unsigned</span> <span class="type">long</span> <span class="type">long</span> <span class="title">Prstk</span><span class="params">(<span class="number">0</span>)</span>, <span class="title">Prlen</span><span class="params">(<span class="number">0</span>)</span></span>;</span><br><span class="line">	<span class="keyword">if</span> (Prtmp &lt; <span class="number">0</span>) &#123;</span><br><span class="line">		<span class="built_in">putchar</span>(<span class="string">&#x27;-&#x27;</span>);</span><br><span class="line">		Prtmp = -Prtmp;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">do</span> &#123;</span><br><span class="line">		Prstk = Prstk * <span class="number">10</span> + Prtmp % <span class="number">10</span>;</span><br><span class="line">		Prtmp /= <span class="number">10</span>;</span><br><span class="line">		++Prlen;</span><br><span class="line">	&#125; <span class="keyword">while</span> (Prtmp);</span><br><span class="line">	<span class="comment">//printf(&quot;%d&quot;, Prtmp);</span></span><br><span class="line">	<span class="keyword">do</span> &#123;</span><br><span class="line">		<span class="built_in">putchar</span>(Prstk % <span class="number">10</span> + <span class="string">&#x27;0&#x27;</span>);</span><br><span class="line">		Prstk /= <span class="number">10</span>;</span><br><span class="line">		--Prlen;</span><br><span class="line">	&#125; <span class="keyword">while</span> (Prlen);</span><br><span class="line">	<span class="keyword">if</span> (SoE) &#123;</span><br><span class="line">		<span class="built_in">putchar</span>(<span class="string">&#x27;\n&#x27;</span>);</span><br><span class="line">	&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">		<span class="built_in">putchar</span>(<span class="string">&#x27; &#x27;</span>);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="3-对拍"><a class="markdownIt-Anchor" href="#3-对拍"></a> 3. 对拍</h3>
<p>如果一道题过了大样例, 那么这个题基本上就是过了, 即使不满分也不会因答案错误出问题, 但是为了防止毒瘤出题人给一个非常弱的大样例, 对拍还是很有必要的.</p>
<p>在这段时间里, 可以提前打出框架, 到时候根据题目修改即可.(可以借此机会测试快读正确性和效率)</p>
<h4 id="1-数据生成器"><a class="markdownIt-Anchor" href="#1-数据生成器"></a> ① 数据生成器</h4>
<p>对拍的基础, 生成随机数据给暴力和优化后的代码.</p>
<p>向 <code>main()</code> 传入参数以保证一秒内的多组数据种子不同.</p>
<p>但是显然这样的操作我是打不出来的, 不过如果忘了这种打法也无妨</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">int</span> <span class="title">n</span><span class="params">(<span class="number">1000000</span>)</span></span>;</span><br><span class="line"><span class="type">char</span> k[<span class="number">10001</span>];</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">(<span class="type">int</span> argc,<span class="type">char</span>** argv)</span> </span>&#123;</span><br><span class="line">  <span class="type">unsigned</span> <span class="type">long</span> <span class="type">long</span> s;</span><br><span class="line">  <span class="keyword">if</span>(argc&gt;=<span class="number">1</span>) &#123;</span><br><span class="line">    <span class="built_in">sscanf</span>(argv[<span class="number">1</span>],<span class="string">&quot;%llu&quot;</span>,&amp;s);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%llu\n&quot;</span>,s);</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;sto&quot;</span>);</span><br><span class="line">    s=<span class="number">1</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="built_in">freopen</span>(<span class="string">&quot;IO.in&quot;</span>, <span class="string">&quot;w&quot;</span>, stdout);</span><br><span class="line">  <span class="built_in">srand</span>(<span class="built_in">time</span>(<span class="number">0</span>)*s);<span class="comment">//Seeds </span></span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">register</span> <span class="type">int</span> <span class="built_in">i</span>(<span class="number">1</span>); i&lt;=n; ++i) &#123;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>, (<span class="type">long</span> <span class="type">long</span>)(<span class="built_in">rand</span>() - <span class="built_in">rand</span>()) * (<span class="built_in">rand</span>() - <span class="built_in">rand</span>()));</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="2-对拍器"><a class="markdownIt-Anchor" href="#2-对拍器"></a> ② 对拍器</h4>
<p>大部分人用批处理, 但是由于我比较菜, 所以用更加熟悉的 C++ 写.</p>
<p>利用<code>&lt;ctime&gt;</code>中的<code>clock()</code>分别计算优化和暴力的效率, 对于优化效果有把握.</p>
<p>向 <code>main()</code> 传入参数以保证一秒内的多组数据种子不同. <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo>∗</mo><mn>2</mn></mrow><annotation encoding="application/x-tex">*2</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">∗</span><span class="mord">2</span></span></span></span></p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">long</span> <span class="type">long</span> Ti;</span><br><span class="line"><span class="type">char</span> k[<span class="number">100001</span>];</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  <span class="keyword">for</span> (<span class="type">unsigned</span> <span class="type">long</span> <span class="type">long</span> i=<span class="number">1</span>;; i++) &#123;</span><br><span class="line">    <span class="built_in">sprintf</span>(k,<span class="string">&quot;BD.exe %llu&quot;</span>,i);</span><br><span class="line">    <span class="built_in">system</span>(k);<span class="comment">//Seeds </span></span><br><span class="line">    Ti = <span class="built_in">clock</span>();</span><br><span class="line">    <span class="built_in">system</span>(<span class="string">&quot;T.exe&quot;</span>);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;T_Time = %lld\n&quot;</span>, <span class="built_in">clock</span>() - Ti);</span><br><span class="line">    Ti = <span class="built_in">clock</span>();</span><br><span class="line">    <span class="built_in">system</span>(<span class="string">&quot;Tfc.exe&quot;</span>);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;Tfc_Time = %lld\n&quot;</span>, <span class="built_in">clock</span>() - Ti);</span><br><span class="line">    <span class="keyword">if</span>(<span class="built_in">system</span>(<span class="string">&quot;fc IO.out IOfc.out&quot;</span>)) &#123;</span><br><span class="line">      <span class="built_in">printf</span>(<span class="string">&quot;Error!&quot;</span>);</span><br><span class="line">      <span class="built_in">MessageBox</span>(<span class="literal">NULL</span>,<span class="string">&quot;error!!!!!&quot;</span>,<span class="string">&quot;tql&quot;</span>,MB_YESNO);<span class="comment">//MB</span></span><br><span class="line">      <span class="keyword">break</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> &#123;</span><br><span class="line">      <span class="built_in">printf</span>(<span class="string">&quot;AC %d\n&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="3-暴力-and-优化"><a class="markdownIt-Anchor" href="#3-暴力-and-优化"></a> ③ 暴力 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo>&amp;</mo></mrow><annotation encoding="application/x-tex">\And</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord">&amp;</span></span></span></span> 优化</h4>
<p>编译自己一开始的暴力和新打出的代码, 注意写好<code>freopen()</code>接口</p>
<h3 id="4-图"><a class="markdownIt-Anchor" href="#4-图"></a> 4. 图</h3>
<p>一般这 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>4</mn></mrow><annotation encoding="application/x-tex">4</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">4</span></span></span></span> 道题怎么样都得有一道和图有关的, 所以接下来就可以把邻接表存图打出来备用. 支持图的存储, 遍历.</p>
<h4 id="1-node-and-edge"><a class="markdownIt-Anchor" href="#1-node-and-edge"></a> ① Node <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo>&amp;</mo></mrow><annotation encoding="application/x-tex">\And</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord">&amp;</span></span></span></span> Edge</h4>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">struct</span> <span class="title class_">Edge</span>;</span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">Node</span> &#123;</span><br><span class="line">  Edge *Fst;</span><br><span class="line">  <span class="type">int</span> DFSr;</span><br><span class="line">&#125;N[<span class="number">10005</span>];</span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">Edge</span> &#123;</span><br><span class="line">  Node *To;</span><br><span class="line">  Edge *Nxt;</span><br><span class="line">&#125;E[<span class="number">10005</span>], *<span class="built_in">cnte</span>(E);</span><br></pre></td></tr></table></figure>
<h4 id="2-lnk"><a class="markdownIt-Anchor" href="#2-lnk"></a> ② Lnk()</h4>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">Lnk</span><span class="params">(<span class="type">const</span> <span class="type">int</span> &amp;x, <span class="type">const</span> <span class="type">int</span> &amp;y)</span> </span>&#123;</span><br><span class="line">  (++cnte)-&gt;To = N + y;</span><br><span class="line">  cnte-&gt;Nxt = N[x].Fst;</span><br><span class="line">  N[x].Fst = cnte;</span><br><span class="line">  <span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="3-dfs"><a class="markdownIt-Anchor" href="#3-dfs"></a> ③ DFS()</h4>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">DFS</span><span class="params">(Node *x)</span> </span>&#123;</span><br><span class="line">  <span class="comment">//printf(&quot;To %d %d\n&quot;, x - N, Dcnt);</span></span><br><span class="line">  x-&gt;DFSr = ++Dcnt;</span><br><span class="line">  <span class="function">Edge *<span class="title">Sid</span><span class="params">(x-&gt;Fst)</span></span>;</span><br><span class="line">  <span class="keyword">while</span> (Sid) &#123;</span><br><span class="line">    <span class="keyword">if</span>(!Sid-&gt;To-&gt;DFSr) &#123;</span><br><span class="line">      <span class="built_in">DFS</span>(Sid-&gt;To);</span><br><span class="line">    &#125;</span><br><span class="line">    Sid = Sid-&gt;Nxt;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="5-数组清除器"><a class="markdownIt-Anchor" href="#5-数组清除器"></a> 5. 数组清除器</h3>
<p>在多组数据的题目中, 通常会需要清空数组的操作, 数组清不干净, 危险又难以察觉, 将变量开在一起, 然后紧接着写一个清除函数 <code>Clr()</code></p>
<p>以 Tarjan缩点 + 拓扑序 的 <code>Clr()</code> 为例</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">Clr</span> <span class="params">()</span> </span>&#123;</span><br><span class="line">  <span class="built_in">memset</span>(N, <span class="number">0</span>, <span class="built_in">sizeof</span>(N));</span><br><span class="line">  <span class="built_in">memset</span>(E, <span class="number">0</span>, <span class="built_in">sizeof</span>(E));</span><br><span class="line">  <span class="built_in">memset</span>(N_, <span class="number">0</span>, <span class="built_in">sizeof</span>(N_));</span><br><span class="line">  <span class="built_in">memset</span>(E_, <span class="number">0</span>, <span class="built_in">sizeof</span>(E_));</span><br><span class="line">  <span class="built_in">memset</span>(Stk, <span class="number">0</span>, <span class="built_in">sizeof</span>(Stk));</span><br><span class="line">  <span class="built_in">memset</span>(Stk_, <span class="number">0</span>, <span class="built_in">sizeof</span>(Stk_));</span><br><span class="line">  cnte = E;</span><br><span class="line">  cnte_ = E_;</span><br><span class="line">  Dcnt = <span class="number">0</span>;</span><br><span class="line">  Dcnt_ = <span class="number">0</span>;</span><br><span class="line">  Scnt = <span class="number">0</span>;</span><br><span class="line">  Hd = <span class="number">0</span>;</span><br><span class="line">  Hd_ = <span class="number">0</span>;</span><br><span class="line">  <span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="iii-复习"><a class="markdownIt-Anchor" href="#iii-复习"></a> Ⅲ 复习</h2>
<p>一些算法和数据结构已经好长时间没打了, 考场现打会消耗很多时间调试甚至直接打不出来, 所以考前要把可能会考的板子打一遍</p>
<h3 id="1-数据结构"><a class="markdownIt-Anchor" href="#1-数据结构"></a> 1. 数据结构</h3>
<h4 id="1-并查集"><a class="markdownIt-Anchor" href="#1-并查集"></a> ① 并查集</h4>
<p>用来维护集合中元素的关系, 支持 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>l</mi><mi>o</mi><msub><mi>g</mi><mn>2</mn></msub><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(log_2n)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="mord mathdefault">o</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">g</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord mathdefault">n</span><span class="mclose">)</span></span></span></span> 加入 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>l</mi><mi>o</mi><msub><mi>g</mi><mn>2</mn></msub><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(log_2n)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="mord mathdefault">o</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">g</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord mathdefault">n</span><span class="mclose">)</span></span></span></span> 查询在哪个集合中</p>
<p>但是有时候可能被卡到 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(n)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathdefault">n</span><span class="mclose">)</span></span></span></span>, 于是有了一种技巧: 路径压缩</p>
<p>路径压缩后, 并查集支持 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi mathvariant="normal">真</mi><mo>∙</mo><mi>O</mi><mo stretchy="false">(</mo><mi>l</mi><mi>o</mi><msub><mi>g</mi><mn>2</mn></msub><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">真 \bullet O(log_2n)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.44445em;vertical-align:0em;"></span><span class="mord cjk_fallback">真</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∙</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="mord mathdefault">o</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">g</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord mathdefault">n</span><span class="mclose">)</span></span></span></span> 插入, <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi mathvariant="normal">真</mi><mo>∙</mo><mi>O</mi><mo stretchy="false">(</mo><mi>l</mi><mi>o</mi><msub><mi>g</mi><mn>2</mn></msub><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">真 \bullet O(log_2n)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.44445em;vertical-align:0em;"></span><span class="mord cjk_fallback">真</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">∙</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="mord mathdefault">o</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">g</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord mathdefault">n</span><span class="mclose">)</span></span></span></span> 查询.</p>
<p>查询</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">int</span> <span class="title">Fnd</span><span class="params">(<span class="type">const</span> <span class="type">int</span> &amp;x)</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="type">int</span> <span class="title">x_tmp</span><span class="params">(x)</span></span>;</span><br><span class="line">  <span class="keyword">while</span> (x_tmp!=Fthr[x_tmp])&#123;</span><br><span class="line">    x_tmp = Fthr[x_tmp];</span><br><span class="line">  &#125;</span><br><span class="line">  Fthr[x] = x_tmp;<span class="comment">//路径压缩</span></span><br><span class="line">  <span class="keyword">return</span> x_tmp;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>插入</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">Add</span><span class="params">(<span class="type">const</span> <span class="type">int</span> &amp;x, <span class="type">const</span> <span class="type">int</span> &amp;y)</span> </span>&#123;</span><br><span class="line">  Fthr[<span class="built_in">Fnd</span>(x)] = Fthr[y];</span><br><span class="line">  <span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="2-st-表"><a class="markdownIt-Anchor" href="#2-st-表"></a> ② St 表</h4>
<p><strong>St 表好在快</strong></p>
<p><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(n)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathdefault">n</span><span class="mclose">)</span></span></span></span> 预处理, <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mn>1</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(1)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord">1</span><span class="mclose">)</span></span></span></span> 查询, 能在 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>1</mn><msup><mn>0</mn><mn>5</mn></msup></mrow><annotation encoding="application/x-tex">10^5</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8141079999999999em;vertical-align:0em;"></span><span class="mord">1</span><span class="mord"><span class="mord">0</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">5</span></span></span></span></span></span></span></span></span></span></span> 的数据中跑 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>1</mn><msup><mn>0</mn><mn>7</mn></msup></mrow><annotation encoding="application/x-tex">10^7</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8141079999999999em;vertical-align:0em;"></span><span class="mord">1</span><span class="mord"><span class="mord">0</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">7</span></span></span></span></span></span></span></span></span></span></span> 的查询.</p>
<p><strong>St 表好在简</strong></p>
<p><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>10</mn><mi>m</mi><mi>i</mi><mi>n</mi></mrow><annotation encoding="application/x-tex">10min</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.65952em;vertical-align:0em;"></span><span class="mord">1</span><span class="mord">0</span><span class="mord mathdefault">m</span><span class="mord mathdefault">i</span><span class="mord mathdefault">n</span></span></span></span> 打出, <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>10</mn><mi>m</mi><mi>i</mi><mi>n</mi></mrow><annotation encoding="application/x-tex">10min</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.65952em;vertical-align:0em;"></span><span class="mord">1</span><span class="mord">0</span><span class="mord mathdefault">m</span><span class="mord mathdefault">i</span><span class="mord mathdefault">n</span></span></span></span> 调好的简单数据结构.</p>
<p><strong>St 表好在整</strong></p>
<p>St 表可以存储查询部分重合的两个区间合并不影响答案的数据, (如最值, gcd, 或运算和等)</p>
<p><strong>St 表坏在不变</strong></p>
<p>不支持修改</p>
<p>预处理</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="keyword">register</span> <span class="type">int</span> <span class="built_in">i</span>(<span class="number">1</span>); i &lt;= n; ++i) &#123;</span><br><span class="line">  St[<span class="number">0</span>][i] = <span class="built_in">RD</span>();</span><br><span class="line">&#125;</span><br><span class="line">Log2[<span class="number">1</span>] = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">register</span> <span class="type">int</span> <span class="built_in">i</span>(<span class="number">2</span>); i &lt;= n; ++i) &#123;</span><br><span class="line">  Log2[i] = Log2[i - <span class="number">1</span>];</span><br><span class="line">  <span class="keyword">if</span>(i &gt;= <span class="number">1</span> &lt;&lt; (Log2[i - <span class="number">1</span>] + <span class="number">1</span>)) &#123;</span><br><span class="line">    ++Log2[i];</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>建表</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">Bld</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">register</span> <span class="type">int</span> <span class="built_in">i</span>(<span class="number">1</span>); i &lt;= Log2[n]; ++i) &#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">register</span> <span class="type">int</span> <span class="built_in">j</span>(<span class="number">1</span>); j + (<span class="number">1</span> &lt;&lt; i) &lt;= n + <span class="number">1</span>; ++j) &#123;</span><br><span class="line">      St[i][j] = <span class="built_in">max</span>(St[i - <span class="number">1</span>][j], St[i - <span class="number">1</span>][j + (<span class="number">1</span> &lt;&lt; (i - <span class="number">1</span>))]);</span><br><span class="line">      <span class="comment">//printf(&quot;%d %d %d\n&quot;, i, j, St[i][j]);</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>查询</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">int</span> <span class="title">Fnd</span> <span class="params">()</span> </span>&#123;</span><br><span class="line">  <span class="type">int</span> len = Log2[B - A + <span class="number">1</span>];</span><br><span class="line">  <span class="keyword">return</span> <span class="built_in">max</span>(St[len][A], St[len][B - (<span class="number">1</span> &lt;&lt; len) + <span class="number">1</span>]);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="3-线段树"><a class="markdownIt-Anchor" href="#3-线段树"></a> ③ 线段树</h4>
<p>非常实用的数据结构, 可以维护所有可以将两个区间合并的区间信息(如和, 积, 最值等), 支持区间/单点修改(<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>l</mi><mi>o</mi><msub><mi>g</mi><mn>2</mn></msub><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(log_2n)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="mord mathdefault">o</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">g</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord mathdefault">n</span><span class="mclose">)</span></span></span></span>), 区间/单点查询(<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>l</mi><mi>o</mi><msub><mi>g</mi><mn>2</mn></msub><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(log_2n)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="mord mathdefault">o</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">g</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord mathdefault">n</span><span class="mclose">)</span></span></span></span>), 能处理 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>1</mn><msup><mn>0</mn><mn>6</mn></msup></mrow><annotation encoding="application/x-tex">10^6</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8141079999999999em;vertical-align:0em;"></span><span class="mord">1</span><span class="mord"><span class="mord">0</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.8141079999999999em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">6</span></span></span></span></span></span></span></span></span></span></span> 的数据.</p>
<p>考前再打加调试也是花了近 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>1</mn><mi>h</mi></mrow><annotation encoding="application/x-tex">1h</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord">1</span><span class="mord mathdefault">h</span></span></span></span>, 但是出锅较少, 而且还是忘了开<code>long long</code>, 唯一的锅是在区间修改时忘记下传标记, 所以十分庆幸在有大样例的场下发现了这个细节, 否则场上可能根本没法发现.</p>
<p>存储</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">struct</span> <span class="title class_">Node</span> &#123;</span><br><span class="line">  Node *Ls, *Rs;</span><br><span class="line">  <span class="type">long</span> <span class="type">long</span> Val, Tag, L, R;</span><br><span class="line">&#125; N[<span class="number">200005</span>], *<span class="built_in">cntn</span>(N);</span><br><span class="line"><span class="type">long</span> <span class="type">long</span> a[<span class="number">100005</span>];</span><br><span class="line"><span class="type">int</span> A, B, C, n, m, k, DWt;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Clr</span> <span class="params">()</span> </span>&#123;&#125;</span><br></pre></td></tr></table></figure>
<p>上/下传</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">Udt</span><span class="params">(Node *x)</span> </span>&#123;</span><br><span class="line">  <span class="keyword">if</span>(x-&gt;L == x-&gt;R) &#123;</span><br><span class="line">    <span class="keyword">return</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  x-&gt;Val = x-&gt;Ls-&gt;Val + x-&gt;Rs-&gt;Val;</span><br><span class="line">  <span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Dld</span><span class="params">(Node *x)</span> </span>&#123;</span><br><span class="line">  <span class="keyword">if</span>(!(x-&gt;Tag)) &#123;</span><br><span class="line">    <span class="keyword">return</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">if</span>(!(x-&gt;L == x-&gt;R)) &#123;</span><br><span class="line">    x-&gt;Ls-&gt;Tag += x-&gt;Tag;</span><br><span class="line">    x-&gt;Rs-&gt;Tag += x-&gt;Tag;</span><br><span class="line">    x-&gt;Ls-&gt;Val += x-&gt;Tag * (x-&gt;Ls-&gt;R - x-&gt;Ls-&gt;L + <span class="number">1</span>);</span><br><span class="line">    x-&gt;Rs-&gt;Val += x-&gt;Tag * (x-&gt;Rs-&gt;R - x-&gt;Rs-&gt;L + <span class="number">1</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  x-&gt;Tag = <span class="number">0</span>;</span><br><span class="line">  <span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>区间修改(修改的区间和加数是全局变量, 所以不传入函数, 查询同)</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">Chg</span><span class="params">(Node *x)</span> </span>&#123;</span><br><span class="line">  <span class="keyword">if</span>(<span class="built_in">OtRg</span>(x)) &#123;</span><br><span class="line">    <span class="keyword">return</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">if</span>(<span class="built_in">InRg</span>(x)) &#123;</span><br><span class="line">    x-&gt;Tag += C;</span><br><span class="line">    x-&gt;Val += C * (x-&gt;R - x-&gt;L + <span class="number">1</span>);</span><br><span class="line">    <span class="keyword">return</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="built_in">Dld</span>(x);<span class="comment">//就是这句忘写了qaq</span></span><br><span class="line">  <span class="built_in">Chg</span>(x-&gt;Ls);</span><br><span class="line">  <span class="built_in">Chg</span>(x-&gt;Rs);</span><br><span class="line">  <span class="built_in">Udt</span>(x);</span><br><span class="line">  <span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>区间查询</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">long</span> <span class="type">long</span> <span class="title">Fnd</span><span class="params">(Node *x)</span> </span>&#123;<span class="comment">//不开 long long 见祖宗</span></span><br><span class="line">  <span class="keyword">if</span>(<span class="built_in">OtRg</span>(x)) &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">if</span>(<span class="built_in">InRg</span>(x)) &#123;</span><br><span class="line">    <span class="keyword">return</span> x-&gt;Val;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="built_in">Dld</span>(x);</span><br><span class="line">  <span class="function"><span class="type">long</span> <span class="type">long</span> <span class="title">tmp</span> <span class="params">(Fnd(x-&gt;Ls))</span></span>;</span><br><span class="line">  <span class="keyword">return</span> tmp + (<span class="built_in">Fnd</span>(x-&gt;Rs));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="4-树状数组"><a class="markdownIt-Anchor" href="#4-树状数组"></a> ④ 树状数组</h4>
<h3 id="2-dp"><a class="markdownIt-Anchor" href="#2-dp"></a> 2. DP</h3>
<p>动态规划的特点就是方程巨长, 代码单一, 不好调. 但是应用范围广, 暴力容易想, 所以说得 DP 者得省一.</p>
<h4 id="1-背包"><a class="markdownIt-Anchor" href="#1-背包"></a> ① 背包</h4>
<p>背包是一种最简单的 DP, 但是一旦有问题, 就不容易发现, 就像这道题, 本来十分钟打出来, 结果调了 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>2</mn><mi>H</mi></mrow><annotation encoding="application/x-tex">2H</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord">2</span><span class="mord mathdefault" style="margin-right:0.08125em;">H</span></span></span></span>, 最后竟然是题读错了.</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">struct</span> <span class="title class_">Stf</span> &#123;</span><br><span class="line">  <span class="type">int</span> Val, Wei, num;</span><br><span class="line">  <span class="type">int</span> Lw1V, Lw1W, Lw2V, Lw2W;</span><br><span class="line">&#125; S[<span class="number">65</span>];</span><br><span class="line"><span class="type">int</span> n, m, A, B, C, f[<span class="number">40005</span>], <span class="built_in">cntn</span>(<span class="number">0</span>), <span class="built_in">ans</span>(<span class="number">0</span>), tmp;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">Gt</span><span class="params">(<span class="type">const</span> <span class="type">int</span> &amp;x)</span> </span>&#123;<span class="comment">//没调好的原因</span></span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">register</span> <span class="type">int</span> <span class="built_in">i</span>(<span class="number">1</span>); i &lt;= cntn; ++i) &#123;</span><br><span class="line">    <span class="keyword">if</span>(S[i].num == x)&#123;</span><br><span class="line">      <span class="keyword">return</span> i;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  <span class="built_in">Clr</span>();</span><br><span class="line">  n = <span class="built_in">RD</span>();</span><br><span class="line">  m = <span class="built_in">RD</span>();</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">register</span> <span class="type">int</span> <span class="built_in">i</span>(<span class="number">1</span>); i &lt;= m; ++i) &#123;</span><br><span class="line">    A = <span class="built_in">RD</span>();</span><br><span class="line">    B = <span class="built_in">RD</span>();</span><br><span class="line">    B *= A;</span><br><span class="line">    C = <span class="built_in">RD</span>();</span><br><span class="line">    <span class="keyword">if</span>(C == <span class="number">0</span>) &#123;</span><br><span class="line">      S[++cntn].Val = B;</span><br><span class="line">      S[cntn].Wei = A;</span><br><span class="line">      S[cntn].num = i;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      tmp = <span class="built_in">Gt</span>(C);</span><br><span class="line">      <span class="keyword">if</span>(S[tmp].Lw1W) &#123;</span><br><span class="line">        S[tmp].Lw2V = B;</span><br><span class="line">        S[tmp].Lw2W = A;</span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        S[tmp].Lw1V = B;</span><br><span class="line">        S[tmp].Lw1W = A;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">register</span> <span class="type">int</span> <span class="built_in">i</span>(<span class="number">1</span>); i &lt;= cntn; ++i) &#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">register</span> <span class="type">int</span> <span class="built_in">j</span>(<span class="number">0</span>); j &lt;= n - S[i].Wei; ++j) &#123;</span><br><span class="line">      f[j] = <span class="built_in">max</span>(f[j], f[j + S[i].Wei] + S[i].Val);</span><br><span class="line">      <span class="keyword">if</span>(j + S[i].Wei + S[i].Lw1W &lt;= n &amp;&amp; S[i].Lw1V) &#123;</span><br><span class="line">        f[j] = <span class="built_in">max</span>(f[j], f[j + S[i].Wei + S[i].Lw1W] + S[i].Val + S[i].Lw1V);</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">if</span>(j + S[i].Wei + S[i].Lw2W &lt;= n &amp;&amp; S[i].Lw2V) &#123;</span><br><span class="line">        f[j] = <span class="built_in">max</span>(f[j], f[j + S[i].Wei + S[i].Lw2W] + S[i].Val + S[i].Lw2V);</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">if</span>(j + S[i].Wei + S[i].Lw1W + S[i].Lw2W &lt;= n &amp;&amp; S[i].Lw1V &amp;&amp; S[i].Lw2V) &#123;</span><br><span class="line">        f[j] = <span class="built_in">max</span>(f[j], f[j + S[i].Wei + S[i].Lw1W + S[i].Lw2W] + S[i].Val + S[i].Lw1V + S[i].Lw2V);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>, f[<span class="number">0</span>]);</span><br><span class="line">  <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="2-lis-lds"><a class="markdownIt-Anchor" href="#2-lis-lds"></a> ② LIS &amp; LDS</h4>
<h4 id="3-区间dp"><a class="markdownIt-Anchor" href="#3-区间dp"></a> ③ 区间DP</h4>
<h3 id="3-图论"><a class="markdownIt-Anchor" href="#3-图论"></a> 3. 图论</h3>
<h4 id="1-kruskal"><a class="markdownIt-Anchor" href="#1-kruskal"></a> ① Kruskal</h4>
<p>最简单的图论算法, 用来求无向连通图的最小 (瓶颈) 生成树. 最初每个节点各自为一个生成树, 通过并查集合并已有的 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>n</mi></mrow><annotation encoding="application/x-tex">n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">n</span></span></span></span> 个生成树为 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>1</mn></mrow><annotation encoding="application/x-tex">1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span></span></span></span> 个.</p>
<p>存储(邻接矩阵)</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> n, m, A, B, C, Ecnt, Fthr[<span class="number">305</span>];</span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">Edge</span> &#123;</span><br><span class="line">  <span class="type">int</span> Val, To_1, To_2;</span><br><span class="line">  <span class="type">bool</span> <span class="keyword">operator</span> &lt;(<span class="type">const</span> Edge &amp;x) <span class="type">const</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span>-&gt;Val &lt; x.Val;</span><br><span class="line">  &#125;</span><br><span class="line">&#125; E[<span class="number">100005</span>],*cnte, *a[<span class="number">305</span>][<span class="number">305</span>];</span><br></pre></td></tr></table></figure>
<p>并查集(路径压缩)</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">int</span> <span class="title">Fnd</span><span class="params">(<span class="type">const</span> <span class="type">int</span> &amp;x)</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="type">int</span> <span class="title">x_tmp</span><span class="params">(x)</span></span>;</span><br><span class="line">  <span class="keyword">while</span> (x_tmp!=Fthr[x_tmp])&#123;</span><br><span class="line">    x_tmp = Fthr[x_tmp];</span><br><span class="line">  &#125;</span><br><span class="line">  Fthr[x] = x_tmp;</span><br><span class="line">  <span class="keyword">return</span> x_tmp;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Add</span><span class="params">(Edge *x)</span> </span>&#123;</span><br><span class="line">  Fthr[<span class="built_in">Fnd</span>(x-&gt;To_1)] = Fthr[x-&gt;To_2];</span><br><span class="line">  <span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>预处理(以邻接矩阵为索引, 防止重边)</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="keyword">register</span> <span class="type">int</span> <span class="built_in">i</span>(<span class="number">1</span>); i &lt;= m; ++i) &#123;</span><br><span class="line">  A = <span class="built_in">RD</span>();</span><br><span class="line">  B = <span class="built_in">RD</span>();</span><br><span class="line">  C = <span class="built_in">RD</span>();</span><br><span class="line">  <span class="keyword">if</span>(a[A][B]) &#123;</span><br><span class="line">    <span class="keyword">if</span>(a[A][B]-&gt;Val &gt; C) &#123;</span><br><span class="line">      a[A][B]-&gt;Val = C;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">continue</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  (++cnte)-&gt;To_1 = A;</span><br><span class="line">  cnte-&gt;To_2 = B;</span><br><span class="line">  cnte-&gt;Val = C;</span><br><span class="line">  a[A][B] = cnte;</span><br><span class="line">  a[B][A] = cnte;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>排序(保证当前边为最小游离边)</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">sort</span>(E + <span class="number">1</span>, cnte + <span class="number">1</span>);</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">register</span> <span class="type">int</span> <span class="built_in">i</span>(<span class="number">1</span>); i &lt;= n; ++i) &#123;</span><br><span class="line">  Fthr[i] = i;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>算法本体(外边则加, 内边则跳)</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">Kruskal</span><span class="params">(Edge *x)</span> </span>&#123;</span><br><span class="line">  <span class="keyword">if</span>(<span class="built_in">Fnd</span>(x-&gt;To_1)==<span class="built_in">Fnd</span>(x-&gt;To_2)) &#123;</span><br><span class="line">    <span class="keyword">return</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="built_in">Add</span>(x);</span><br><span class="line">  ++Ecnt;</span><br><span class="line">  <span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//In &#x27;main()&#x27;</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">register</span> Edge *<span class="built_in">i</span>(E + <span class="number">1</span>); i &lt;= cnte; ++i) &#123;</span><br><span class="line">  <span class="built_in">Kruskal</span>(i);</span><br><span class="line">  <span class="keyword">if</span>(Ecnt == n - <span class="number">1</span>) &#123;<span class="keyword">return</span> <span class="number">0</span>;&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="2-dijkstra"><a class="markdownIt-Anchor" href="#2-dijkstra"></a> ② Dijkstra</h4>
<p>本以为 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>10</mn><mi>m</mi><mi>i</mi><mi>n</mi></mrow><annotation encoding="application/x-tex">10min</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.65952em;vertical-align:0em;"></span><span class="mord">1</span><span class="mord">0</span><span class="mord mathdefault">m</span><span class="mord mathdefault">i</span><span class="mord mathdefault">n</span></span></span></span> 随便打的算法, 结果交了一面, 着实不是太体面, 最后还是在苏巨神的指导下 AC.</p>
<p>不要忘记标记最短路已经被确定的点, 否则会超时.</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">Dijkstra</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  q.<span class="built_in">push</span>(<span class="built_in">make_pair</span>(-N[s].Dst, s));</span><br><span class="line">  Node *now;</span><br><span class="line">  <span class="keyword">while</span> (!q.<span class="built_in">empty</span>()) &#123;</span><br><span class="line">    now = N + q.<span class="built_in">top</span>().second;</span><br><span class="line">    q.<span class="built_in">pop</span>();</span><br><span class="line">    <span class="keyword">if</span>(now-&gt;InStk) &#123;</span><br><span class="line">      <span class="keyword">continue</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    now-&gt;InStk = <span class="number">1</span>;<span class="comment">//就是这里没判</span></span><br><span class="line">    <span class="keyword">for</span> (Edge *<span class="built_in">Sid</span>(now-&gt;Fst); Sid; Sid = Sid-&gt;Nxt) &#123;</span><br><span class="line">      <span class="keyword">if</span> (Sid-&gt;To-&gt;Dst &lt; now-&gt;Dst + Sid-&gt;Val)</span><br><span class="line">        <span class="keyword">if</span> (!Sid-&gt;To-&gt;InStk) &#123;<span class="comment">//还有这</span></span><br><span class="line">          Sid-&gt;To-&gt;Dst = now-&gt;Dst + Sid-&gt;Val;</span><br><span class="line">          q.<span class="built_in">push</span>(<span class="built_in">make_pair</span>(Sid-&gt;To-&gt;Dst, Sid-&gt;To - N));</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="3-tarjan"><a class="markdownIt-Anchor" href="#3-tarjan"></a> ③ Tarjan</h4>
<p>断断续续写了一个小时, 发现的问题主要有: 注意栈的操作, 不要忘了弹栈最后把强连通分量根节点弹掉, 不要忘记进栈.</p>
<p>最后缩点时, 由于要再建一张图, 所以变量名和结构体比较错乱.</p>
<p>而且在建新图的时候, 不要在一个强连通分量内部连边, 否则就会导致新点入度错误.</p>
<p>存储</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">struct</span> <span class="title class_">Edge</span>;</span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">Edge_</span>;</span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">Node</span> N[<span class="number">10005</span>], *Stk[<span class="number">10005</span>];</span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">Node_</span> N_[<span class="number">10005</span>], *Stk_[<span class="number">10005</span>];</span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">Edge</span> E[<span class="number">10005</span>], *<span class="built_in">cnte</span>(E);</span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">Edge_</span> E_[<span class="number">10005</span>], *<span class="built_in">cnte_</span>(E_);</span><br><span class="line"><span class="type">int</span> n, A, <span class="built_in">Dcnt</span>(<span class="number">0</span>), <span class="built_in">Dcnt_</span>(<span class="number">0</span>), <span class="built_in">Scnt</span>(<span class="number">0</span>), <span class="built_in">Hd</span>(<span class="number">0</span>), <span class="built_in">Hd_</span>(<span class="number">0</span>);</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Clr</span> <span class="params">()</span> </span>&#123;&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Lnk</span><span class="params">(<span class="type">const</span> <span class="type">int</span> &amp;x, <span class="type">const</span> <span class="type">int</span> &amp;y)</span> </span>&#123;&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Lnk_</span><span class="params">(<span class="type">const</span> <span class="type">int</span> &amp;x, <span class="type">const</span> <span class="type">int</span> &amp;y)</span> </span>&#123;</span><br><span class="line">  ++N_[y].IDg;</span><br><span class="line">  (++cnte_)-&gt;To = N_ + y;</span><br><span class="line">  cnte_-&gt;Nxt = N_[x].Fst;</span><br><span class="line">  N_[x].Fst = cnte_;</span><br><span class="line">  <span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Tarjan(DFS)</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">Tarjan</span><span class="params">(Node *x)</span> </span>&#123;</span><br><span class="line">  <span class="built_in">printf</span>(<span class="string">&quot;To %d %d\n&quot;</span>, x - N, Dcnt);</span><br><span class="line">  <span class="keyword">if</span> (!x-&gt;DFSr) &#123;</span><br><span class="line">    x-&gt;DFSr = ++Dcnt;</span><br><span class="line">    x-&gt;BkT = x-&gt;DFSr;</span><br><span class="line">    x-&gt;InStk = <span class="number">1</span>;</span><br><span class="line">    Stk[++Hd] = x;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="function">Edge *<span class="title">Sid</span><span class="params">(x-&gt;Fst)</span></span>;</span><br><span class="line">  <span class="keyword">while</span> (Sid) &#123;</span><br><span class="line">    <span class="keyword">if</span> (Sid-&gt;To-&gt;BlT) &#123;</span><br><span class="line">      Sid = Sid-&gt;Nxt;</span><br><span class="line">      <span class="keyword">continue</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (Sid-&gt;To-&gt;InStk) &#123;</span><br><span class="line">      x-&gt;BkT = <span class="built_in">min</span>(x-&gt;BkT, Sid-&gt;To-&gt;DFSr);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      <span class="built_in">Tarjan</span>(Sid-&gt;To);</span><br><span class="line">      x-&gt; BkT = <span class="built_in">min</span>(x-&gt;BkT, Sid-&gt;To-&gt;BkT);</span><br><span class="line">    &#125;</span><br><span class="line">    Sid = Sid-&gt;Nxt;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">if</span>(x-&gt;BkT == x-&gt;DFSr) &#123;</span><br><span class="line">    ++Scnt;</span><br><span class="line">    <span class="keyword">while</span> (Stk[Hd] != x) &#123;</span><br><span class="line">      Stk[Hd]-&gt;BlT = Scnt;</span><br><span class="line">      Stk[Hd]-&gt;InStk = <span class="number">0</span>;</span><br><span class="line">      --Hd;</span><br><span class="line">    &#125;</span><br><span class="line">    Stk[Hd]-&gt;BlT = Scnt;</span><br><span class="line">    Stk[Hd--]-&gt;InStk = <span class="number">0</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>缩点(新图)</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">ToPnt</span><span class="params">(Node *x)</span> </span>&#123;</span><br><span class="line">  <span class="comment">//printf(&quot;To %d %d\n&quot;, x - N, Dcnt);</span></span><br><span class="line">  <span class="function">Edge *<span class="title">Sid</span><span class="params">(x-&gt;Fst)</span></span>;</span><br><span class="line">  <span class="keyword">while</span> (Sid) &#123;</span><br><span class="line">    <span class="keyword">if</span>(x-&gt;BlT != Sid-&gt;To-&gt;BlT) &#123;</span><br><span class="line">      <span class="built_in">Lnk_</span>(x-&gt;BlT, Sid-&gt;To-&gt;BlT);</span><br><span class="line">    &#125;</span><br><span class="line">    Sid = Sid-&gt;Nxt;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="4-拓扑序"><a class="markdownIt-Anchor" href="#4-拓扑序"></a> ④ 拓扑序</h4>
<p>由于 Tarjan 缩点后是个 DAG (有向无环图) 所以正好可以用来测试拓扑序.</p>
<p>在删点的时候, BFS 所用的队列</p>
<p>(接Tatjan)</p>
<p>排序</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">TPR</span><span class="params">()</span> </span>&#123;</span><br><span class="line">  <span class="keyword">for</span>(<span class="keyword">register</span> <span class="type">int</span> <span class="built_in">i</span>(<span class="number">1</span>); i &lt;= Scnt; ++i) &#123;</span><br><span class="line">    <span class="keyword">if</span> (N_[i].IDg == <span class="number">0</span>) &#123;</span><br><span class="line">      Stk_[++Hd_] = &amp;N_[i];</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">while</span> (N_[++Hd_].IDg == <span class="number">0</span>) &#123;</span><br><span class="line">    Stk_[Hd_] = &amp;N_[Hd_];</span><br><span class="line">  &#125;</span><br><span class="line">  --Hd_;</span><br><span class="line">  <span class="keyword">while</span> (Hd_) &#123;</span><br><span class="line">    Stk_[Hd_]-&gt;Tpr = ++Dcnt_;</span><br><span class="line">    <span class="function">Edge_ *<span class="title">Sid</span><span class="params">(Stk_[Hd_--]-&gt;Fst)</span></span>;</span><br><span class="line">    <span class="keyword">while</span> (Sid) &#123;</span><br><span class="line">      <span class="keyword">if</span>(!Sid-&gt;To-&gt;Tpr) &#123;</span><br><span class="line">        --(Sid-&gt;To-&gt;IDg);</span><br><span class="line">        <span class="keyword">if</span>(Sid-&gt;To-&gt;IDg == <span class="number">0</span>) &#123;</span><br><span class="line">          Stk_[++Hd_] = Sid-&gt;To;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">      Sid = Sid-&gt;Nxt;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>新图遍历</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">DFS_</span><span class="params">(Node_ *x)</span> </span>&#123;</span><br><span class="line">  x-&gt;_ed = <span class="number">1</span>;</span><br><span class="line">  <span class="built_in">printf</span>(<span class="string">&quot;To %d %d\n&quot;</span>, x - N_, x-&gt;Tpr);</span><br><span class="line">  <span class="function">Edge_ *<span class="title">Sid</span><span class="params">(x-&gt;Fst)</span></span>;</span><br><span class="line">  <span class="keyword">while</span> (Sid) &#123;</span><br><span class="line">    <span class="keyword">if</span>(!Sid-&gt;To-&gt;_ed) &#123;</span><br><span class="line">      <span class="built_in">DFS_</span>(Sid-&gt;To);</span><br><span class="line">    &#125;</span><br><span class="line">    Sid = Sid-&gt;Nxt;</span><br><span class="line">  &#125;</span><br><span class="line"> <span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="4-数学"><a class="markdownIt-Anchor" href="#4-数学"></a> 4. 数学</h3>
<h4 id="1-euclid"><a class="markdownIt-Anchor" href="#1-euclid"></a> ① Euclid</h4>
<p>最基本的数学算法, 用来 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>l</mi><mi>o</mi><msub><mi>g</mi><mn>2</mn></msub><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(log_2n)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="mord mathdefault">o</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">g</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord mathdefault">n</span><span class="mclose">)</span></span></span></span> 求两个数的 <code>GCD</code> (最大公因数).</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">int</span> <span class="title">Gcd</span><span class="params">(<span class="type">int</span> x, <span class="type">int</span> y)</span> </span>&#123;</span><br><span class="line">  <span class="keyword">if</span>(y == <span class="number">0</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> x;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> <span class="built_in">Gcd</span>(y, x % y);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="2-快速幂fibonacci"><a class="markdownIt-Anchor" href="#2-快速幂fibonacci"></a> ② 快速幂(Fibonacci)</h4>
<h4 id="3-merge"><a class="markdownIt-Anchor" href="#3-merge"></a> ③ Merge</h4>
<h4 id="4-exgcd"><a class="markdownIt-Anchor" href="#4-exgcd"></a> ④ Exgcd</h4>
<h4 id="5-高精度运算"><a class="markdownIt-Anchor" href="#5-高精度运算"></a> ⑤ 高精度运算</h4>
<h3 id="5-stl"><a class="markdownIt-Anchor" href="#5-stl"></a> 5. Stl</h3>
<p>Stl 的语法大同小异, 但是如果忘记可是很难调的.</p>
<p>一些 Stl 需要传入数组里操作位置的头尾指针, 遵循左闭右开的规则, 如 <code>(A + 1, A + 3)</code> 表示的是 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>A</mi><mo stretchy="false">[</mo><mn>1</mn><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">A[1]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">A</span><span class="mopen">[</span><span class="mord">1</span><span class="mclose">]</span></span></span></span> 到 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>A</mi><mo stretchy="false">[</mo><mn>2</mn><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">A[2]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">A</span><span class="mopen">[</span><span class="mord">2</span><span class="mclose">]</span></span></span></span> 范围.</p>
<h4 id="1-sort"><a class="markdownIt-Anchor" href="#1-sort"></a> ① sort</h4>
<p><code>sort(A + 1, A + n + 1)</code></p>
<p>表示将 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>A</mi></mrow><annotation encoding="application/x-tex">A</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault">A</span></span></span></span> 数组从 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>A</mi><mo stretchy="false">[</mo><mn>1</mn><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">A[1]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">A</span><span class="mopen">[</span><span class="mord">1</span><span class="mclose">]</span></span></span></span> 到 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>A</mi><mo stretchy="false">[</mo><mi>n</mi><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">A[n]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">A</span><span class="mopen">[</span><span class="mord mathdefault">n</span><span class="mclose">]</span></span></span></span> 升序排序.</p>
<p>其他规则可通过重载结构体的 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo>&lt;</mo></mrow><annotation encoding="application/x-tex">&lt;</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5782em;vertical-align:-0.0391em;"></span><span class="mrel">&lt;</span></span></span></span> 或比较函数 <code>Cmp()</code> 来定义.</p>
<h4 id="2-priority_queue"><a class="markdownIt-Anchor" href="#2-priority_queue"></a> ② priority_queue</h4>
<p><code>priority_queue &lt;int&gt; q</code></p>
<p>定义一个元素为 <code>int</code> 的默认优先队列 (二叉堆)</p>
<p><code>q.push(x)</code></p>
<p><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>l</mi><mi>o</mi><msub><mi>g</mi><mn>2</mn></msub><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(log_2n)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="mord mathdefault">o</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">g</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord mathdefault">n</span><span class="mclose">)</span></span></span></span> 插入元素 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>x</mi></mrow><annotation encoding="application/x-tex">x</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">x</span></span></span></span></p>
<p><code>q.pop()</code></p>
<p><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mi>l</mi><mi>o</mi><msub><mi>g</mi><mn>2</mn></msub><mi>n</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(log_2n)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord mathdefault" style="margin-right:0.01968em;">l</span><span class="mord mathdefault">o</span><span class="mord"><span class="mord mathdefault" style="margin-right:0.03588em;">g</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.03588em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mord mathdefault">n</span><span class="mclose">)</span></span></span></span> 弹出堆顶</p>
<p><code>q.top()</code></p>
<p><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>O</mi><mo stretchy="false">(</mo><mn>1</mn><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">O(1)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault" style="margin-right:0.02778em;">O</span><span class="mopen">(</span><span class="mord">1</span><span class="mclose">)</span></span></span></span> 查找堆顶, 返回值为队列元素类型</p>
<p>默认容器为对应数据类型的 <code>&lt;vector&gt;</code>, 一般不需要修改, 也可以通过重载 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mo>&lt;</mo></mrow><annotation encoding="application/x-tex">&lt;</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.5782em;vertical-align:-0.0391em;"></span><span class="mrel">&lt;</span></span></span></span> 或比较函数来定义规则</p>
<h4 id="3-lowerupper_bound"><a class="markdownIt-Anchor" href="#3-lowerupper_bound"></a> ③ lower/upper_bound</h4>
<p><code>lower_bound(A + 1, A + n + 1, x)</code> 查找有序数组 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>A</mi></mrow><annotation encoding="application/x-tex">A</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault">A</span></span></span></span> 中从 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>A</mi><mo stretchy="false">[</mo><mn>1</mn><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">A[1]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">A</span><span class="mopen">[</span><span class="mord">1</span><span class="mclose">]</span></span></span></span> 到 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>A</mi><mo stretchy="false">[</mo><mi>n</mi><mo stretchy="false">]</mo></mrow><annotation encoding="application/x-tex">A[n]</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">A</span><span class="mopen">[</span><span class="mord mathdefault">n</span><span class="mclose">]</span></span></span></span> 范围内最小的大于等于 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>x</mi></mrow><annotation encoding="application/x-tex">x</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">x</span></span></span></span> 的数的迭代器.</p>
<p><code>upper_bound()</code> 同理, 只是大于等于变成了严格大于, 其他用法都相同</p>
<p>值得一提的是, 如果整个左闭右开区间内都没有找到合法的元素, 那么返回值将会是传入区间的右端点, 而右端点又恰恰不会被查询区间包含, 这样如果找不到, 它的返回值将不会和任意一个合法结果产生歧义.</p>
<p>也可以用一般方法定义比较规则.</p>
<h2 id="iv-策略"><a class="markdownIt-Anchor" href="#iv-策略"></a> Ⅳ 策略</h2>
<h3 id="1-得分目标"><a class="markdownIt-Anchor" href="#1-得分目标"></a> 1. 得分目标</h3>
<p>目标是省一, 也就是说要在山东省得前 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>200</mn></mrow><annotation encoding="application/x-tex">200</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">2</span><span class="mord">0</span><span class="mord">0</span></span></span></span> 名.</p>
<p>以之前模拟赛的时间和难度来看, 一般 T1 签到题大部分情况都能签到成功. T2 会花较长时间得到一半以上的分数, T3 除了极少数情况以外, 基本 AC 不了. 更不用说T4了, 能得分就已经赚了.</p>
<p>总结就是: <s>切一, 解二, 暴三, 骗四</s> (不要再玩这个梗了)</p>
<p>期望得分 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>100</mn><mtext> </mtext><mn>200</mn></mrow><annotation encoding="application/x-tex">100~200</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span><span class="mord">0</span><span class="mord">0</span><span class="mspace nobreak"> </span><span class="mord">2</span><span class="mord">0</span><span class="mord">0</span></span></span></span> (我菜得深沉)</p>
<h3 id="2-时间管理"><a class="markdownIt-Anchor" href="#2-时间管理"></a> 2. 时间管理</h3>
<p>之前几次模拟赛, T2 是第二难的甚至是最难的 (毒瘤出题人按字典序排序题目), 导致花大量时间做 T2 却做不出来, 最后陪了夫人又折兵. 但是 CSP 一般就是按难度排序, 所以不存在这个问题.</p>
<p>今年考试时间是 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>14</mn><mo>:</mo><mn>30</mn><mo>−</mo><mn>18</mn><mo>:</mo><mn>30</mn></mrow><annotation encoding="application/x-tex">14:30 - 18:30</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span><span class="mord">4</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">:</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.72777em;vertical-align:-0.08333em;"></span><span class="mord">3</span><span class="mord">0</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span><span class="mord">8</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">:</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">3</span><span class="mord">0</span></span></span></span>, 由于加上了试机打的代码, 所以时间相对校内模拟赛充裕一些, 留下了对拍的时间.</p>
<p>一份代码要先保证正确再追求效率, 所以在一时想不出正解时, 先打一个部分分的暴力, 这样既能通过对拍验证优化的正确性, 又能减小正解的难度, 毕竟在已有的算法上做优化比凭空写要简单 (某些类型的题如 DP, 正解就是从暴力一点点优化来的)</p>
<p>一共 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>4</mn><mi>h</mi></mrow><annotation encoding="application/x-tex">4h</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord">4</span><span class="mord mathdefault">h</span></span></span></span>, <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>240</mn><mi>m</mi><mi>i</mi><mi>n</mi></mrow><annotation encoding="application/x-tex">240min</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.65952em;vertical-align:0em;"></span><span class="mord">2</span><span class="mord">4</span><span class="mord">0</span><span class="mord mathdefault">m</span><span class="mord mathdefault">i</span><span class="mord mathdefault">n</span></span></span></span>, 一开始在 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>45</mn><mi>m</mi><mi>i</mi><mi>n</mi></mrow><annotation encoding="application/x-tex">45min</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.65952em;vertical-align:0em;"></span><span class="mord">4</span><span class="mord">5</span><span class="mord mathdefault">m</span><span class="mord mathdefault">i</span><span class="mord mathdefault">n</span></span></span></span> 之内, 完成 T1 读, 切, 写, 调, 拍的工作.</p>
<p>接下来先读完所有题, 然后做 T2, 在还剩下 <span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>2</mn><mi>H</mi></mrow><annotation encoding="application/x-tex">2H</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord">2</span><span class="mord mathdefault" style="margin-right:0.08125em;">H</span></span></span></span> 的时间, 如果 AC 遥遥无期, 先放下 T2 去做 T3, T4, 等把 T3, T4, 能得的分得了, 再去做T2.</p>
<p>这时, 有了 T1 的正解和三个题的部分分, 就会塌实很多.</p>
<h3 id="3-代码管理空间管理"><a class="markdownIt-Anchor" href="#3-代码管理空间管理"></a> 3. 代码管理(空间管理)</h3>
<p>所有自己写的, 生成的文件放在<code>D</code>盘, 个人文件夹名称格式为<code>考号+姓名</code>, 如<code>SD-20117曹翠芬</code>(<s>€€￡</s>)</p>
<p>由于关于一道题的所有文件都在它的文件夹中,</p>
<p>今年要求个人文件夹中只留四个题目对应的子文件夹, 每个子文件夹中只放提交的<code>.cpp</code>文件, 所以最后要清空文件夹.</p>
<h2 id="v-杂项"><a class="markdownIt-Anchor" href="#v-杂项"></a> Ⅴ 杂项</h2>
<h3 id="1-部分拼写"><a class="markdownIt-Anchor" href="#1-部分拼写"></a> 1. 部分拼写</h3>
<ol>
<li><code>#include</code></li>
<li><code>priority_queue</code></li>
<li><code>&lt;algorithm&gt;</code></li>
<li><code>operator</code></li>
<li><code>conversion</code></li>
<li><code>register</code></li>
<li><code>freopen</code></li>
<li><code>vector</code></li>
<li><code>unsigned</code></li>
</ol>
<h3 id="2-模拟赛出锅汇总"><a class="markdownIt-Anchor" href="#2-模拟赛出锅汇总"></a> 2. 模拟赛出锅汇总</h3>
<blockquote>
<p>“不开long long见祖宗”</p>
</blockquote>
<blockquote>
<p>“不清数组见祖宗”</p>
</blockquote>
<blockquote>
<p>“乱改代码见祖宗”(但是这次就是自动保存历史版本让我快速找回正解)</p>
</blockquote>
<blockquote>
<p>“不读题见祖宗”</p>
</blockquote>
<h3 id="3-考场大坑"><a class="markdownIt-Anchor" href="#3-考场大坑"></a> 3. 考场大坑</h3>
<h4 id="1-cstdio"><a class="markdownIt-Anchor" href="#1-cstdio"></a> ① <code>&lt;cstdio&gt;</code></h4>
<p>由于要写 <code>freopen()</code>, 所以 <code>&lt;cstdio&gt;</code> 是必然要写的, 但是 Windows 本地不写也能过编译, 所以是无形威胁, 最为致命.</p>
<h4 id="2-敏感变量名"><a class="markdownIt-Anchor" href="#2-敏感变量名"></a> ② 敏感变量名</h4>
<p>主要出现在开 C++11 的情况, 但是我不会写小写英文单词作为变量名, 所以基本上撞不上这种坑.</p>
<h4 id="3-数组开爆"><a class="markdownIt-Anchor" href="#3-数组开爆"></a> ③ 数组开爆</h4>
<p>在线题库评测时, 只会计算当前程序用到的内存, 但是在 CSP 中, 会计算所有定义的变量的空间, 所以一定要计算好空间, 即使最后几十分不要了也不能冒险.</p>
<h4 id="4-freopen"><a class="markdownIt-Anchor" href="#4-freopen"></a> ④ <code>freopen()</code></h4>
<p>这便不必多说了, 虽然没有因为这个挂过, 但是后果之严重不容忽视.</p>
<h4 id="5-time0"><a class="markdownIt-Anchor" href="#5-time0"></a> ⑤ <code>time(0)</code></h4>
<p>随机数种子还是用自己的生日等固定数字吧, 凡是和时间有关的操作, 都会影响后期申诉.</p>
<h2 id="vi-结语"><a class="markdownIt-Anchor" href="#vi-结语"></a> Ⅵ 结语</h2>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">CSP-S <span class="number">2020</span>-&gt;RP += <span class="number">0x3f3f3f3f</span></span><br></pre></td></tr></table></figure>
<p>安得广厦千万间, 大庇天下 OIer 俱欢颜</p>
<p>希望每天<s>朝五晚九</s>朝五晚B(<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msub><mi>B</mi><mn>16</mn></msub><mo>=</mo><mo>=</mo><mn>1</mn><msub><mn>1</mn><mn>10</mn></msub></mrow><annotation encoding="application/x-tex">B_{16} == 11_{10}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.83333em;vertical-align:-0.15em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.05017em;">B</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:-0.05017em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span><span class="mord mtight">6</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span></span><span class="base"><span class="strut" style="height:0.36687em;vertical-align:0em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.79444em;vertical-align:-0.15em;"></span><span class="mord">1</span><span class="mord"><span class="mord">1</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em;"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span><span class="mord mtight">0</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em;"><span></span></span></span></span></span></span></span></span></span>)的我们身体健康</p>
<p align="right">2020.11.6</p>
<p class='katex-block'><span class="katex-display"><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi mathvariant="fraktur">W</mi><mi mathvariant="fraktur">i</mi><mi mathvariant="fraktur">l</mi><mi mathvariant="fraktur">d</mi><mtext> </mtext><mi mathvariant="fraktur">D</mi><mi mathvariant="fraktur">o</mi><mi mathvariant="fraktur">n</mi><mi mathvariant="fraktur">k</mi><mi mathvariant="fraktur">e</mi><mi mathvariant="fraktur">y</mi></mrow><annotation encoding="application/x-tex">\mathfrak{Wild\ Donkey}
</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.88047em;vertical-align:-0.18906em;"></span><span class="mord"><span class="mord mathfrak">W</span><span class="mord mathfrak">i</span><span class="mord mathfrak">l</span><span class="mord mathfrak">d</span><span class="mspace"> </span><span class="mord mathfrak">D</span><span class="mord mathfrak">o</span><span class="mord mathfrak">n</span><span class="mord mathfrak">k</span><span class="mord mathfrak">e</span><span class="mord mathfrak">y</span></span></span></span></span></span></p>

                        </div>

                        <!-- Post Comments -->
                        
    <!-- 使用 DISQUS_CLICK -->
<div id="disqus-comment">
    <div id="disqus_thread"></div>

<!-- add animation -->
<style>
	.disqus_click_btn {
            line-height: 30px;
            margin: 0;
            min-width: 50px;
            padding: 0 14px;
            display: inline-block;
            font-family: "Roboto", "Helvetica", "Arial", sans-serif;
            font-size: 14px;
            font-weight: 400;
            text-transform: uppercase;
            letter-spacing: 0;
            overflow: hidden;
            will-change: box-shadow;
            transition: box-shadow .2s cubic-bezier(.4, 0, 1, 1), background-color .2s cubic-bezier(.4, 0, .2, 1), color .2s cubic-bezier(.4, 0, .2, 1);
            outline: 0;
            cursor: pointer;
            text-decoration: none;
            text-align: center;
            vertical-align: middle;
            border: 0;
            background: rgba(158, 158, 158, .2);
            box-shadow: 0 2px 2px 0 rgba(0, 0, 0, .14), 0 3px 1px -2px rgba(0, 0, 0, .2), 0 1px 5px 0 rgba(0, 0, 0, .12);
            color: #fff;
            background-color: #7EC0EE;
            text-shadow: 0
        }
</style>
	
<div class="btn_click_load" id="disqus_bt"> 
    <button class="disqus_click_btn">点击查看评论</button>
</div>

<!--
<script type="text/javascript">
$('.btn_click_load').click(function() {
    /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
    var disqus_shortname = 'Wild-Donkey'; // required: replace example with your forum shortname

    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();

    document.getElementById('disqus_bt').style.display = "none";
});
</script>
-->
<script type="text/javascript">
    var disqus_config = function () {
        this.page.url = 'http://wild-donkey.github.io/Contests/CSP-S2020/';  // Replace PAGE_URL with your page's canonical URL variable
        this.page.identifier = 'http://wild-donkey.github.io/Contests/CSP-S2020/'; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
    };
</script>

<script type="text/javascript">
    $('.btn_click_load').click(function() {  //click to load comments
        (function() { // DON'T EDIT BELOW THIS LINE
            var d = document;
            var s = d.createElement('script');
            s.src = '//Wild-Donkey.disqus.com/embed.js';
            s.setAttribute('data-timestamp', + new Date());
            (d.head || d.body).appendChild(s);
        })();
        $('.btn_click_load').css('display','none');
    });
</script>
</div>
<style>
    #disqus-comment{
        background-color: #eee;
        padding: 2pc;
    }
</style>


                      </div>
                      <!-- Copyright 版权 start -->
                              <div id="copyright">
            <ul>
                <li>&copy;Powered By <a target="_blank" rel="noopener" href="https://hexo.io/zh-cn/" style="border-bottom: none;">hexo</a></li>
                <li>Design: <a target="_blank" rel="noopener" href="http://miccall.tech " style="border-bottom: none;">miccall</a></li>
            </ul>
            
                <span id="busuanzi_container_site_pv">本站总访问量<span id="busuanzi_value_site_pv"></span>次</span>
			
        </div>
                </div>
              </body>


              
 	
</html>
